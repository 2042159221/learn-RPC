# Ming RPC Framework æŠ€æœ¯æ¶æ„è¯¦è§£

## ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

### åˆ†å±‚æ¶æ„

Ming RPC Frameworké‡‡ç”¨ç»å…¸çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œä»ä¸Šåˆ°ä¸‹åˆ†ä¸ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Application Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚   Provider App  â”‚  â”‚   Consumer App  â”‚                  â”‚
â”‚  â”‚   @RpcService   â”‚  â”‚  @RpcReference  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Spring Boot Integration                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ Auto Configure  â”‚  â”‚ Bean Processor  â”‚                  â”‚
â”‚  â”‚   @EnableRpc    â”‚  â”‚  Proxy Factory  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    RPC Core Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Client    â”‚ â”‚   Server    â”‚ â”‚   Registry  â”‚          â”‚
â”‚  â”‚   Proxy     â”‚ â”‚   Handler   â”‚ â”‚   Center    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Component Layer                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Serializer  â”‚ â”‚Load Balancerâ”‚ â”‚Fault Tolerantâ”‚          â”‚
â”‚  â”‚   Factory   â”‚ â”‚   Factory   â”‚ â”‚   Factory   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Network Layer                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Vert.x    â”‚ â”‚    HTTP     â”‚ â”‚   Protocol  â”‚          â”‚
â”‚  â”‚   Server    â”‚ â”‚   Client    â”‚ â”‚   Handler   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶è¯¦è§£

### 1. åºåˆ—åŒ–å™¨ (Serializer)

#### è®¾è®¡æ¨¡å¼
- **ç­–ç•¥æ¨¡å¼**: ä¸åŒåºåˆ—åŒ–ç®—æ³•çš„å¯æ’æ‹”å®ç°
- **å·¥å‚æ¨¡å¼**: ç»Ÿä¸€çš„åºåˆ—åŒ–å™¨åˆ›å»ºæ¥å£

#### å®ç°ç±»å‹
```java
public interface Serializer {
    <T> byte[] serialize(T object) throws IOException;
    <T> T deserialize(byte[] bytes, Class<T> type) throws IOException;
}

// JDKåºåˆ—åŒ–å™¨
public class JdkSerializer implements Serializer {
    @Override
    public <T> byte[] serialize(T object) throws IOException {
        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
        ObjectOutputStream objectOutputStream = new ObjectOutputStream(outputStream);
        objectOutputStream.writeObject(object);
        objectOutputStream.close();
        return outputStream.toByteArray();
    }
}

// JSONåºåˆ—åŒ–å™¨
public class JsonSerializer implements Serializer {
    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();
    
    @Override
    public <T> byte[] serialize(T object) throws IOException {
        return OBJECT_MAPPER.writeValueAsBytes(object);
    }
}
```

#### æ€§èƒ½å¯¹æ¯”
| åºåˆ—åŒ–å™¨ | åºåˆ—åŒ–é€Ÿåº¦ | ååºåˆ—åŒ–é€Ÿåº¦ | æ•°æ®å¤§å° | è·¨è¯­è¨€æ”¯æŒ |
|---------|-----------|-------------|----------|-----------|
| JDK     | ä¸­ç­‰      | ä¸­ç­‰        | å¤§       | å¦        |
| JSON    | å¿«        | å¿«          | ä¸­ç­‰     | æ˜¯        |
| Hessian | å¿«        | å¿«          | å°       | æ˜¯        |

### 2. è´Ÿè½½å‡è¡¡å™¨ (LoadBalancer)

#### ç®—æ³•å®ç°

**è½®è¯¢ç®—æ³• (Round Robin)**
```java
public class RoundRobinLoadBalancer implements LoadBalancer {
    private final AtomicInteger currentIndex = new AtomicInteger(0);
    
    @Override
    public ServiceMetaInfo select(Map<String, Object> requestParams, 
                                 List<ServiceMetaInfo> serviceMetaInfoList) {
        if (serviceMetaInfoList.isEmpty()) {
            return null;
        }
        
        int size = serviceMetaInfoList.size();
        if (size == 1) {
            return serviceMetaInfoList.get(0);
        }
        
        int index = currentIndex.getAndIncrement() % size;
        return serviceMetaInfoList.get(index);
    }
}
```

**ä¸€è‡´æ€§å“ˆå¸Œç®—æ³• (Consistent Hash)**
```java
public class ConsistentHashLoadBalancer implements LoadBalancer {
    private final TreeMap<Integer, ServiceMetaInfo> virtualNodes = new TreeMap<>();
    private static final int VIRTUAL_NODE_NUM = 100;
    
    @Override
    public ServiceMetaInfo select(Map<String, Object> requestParams, 
                                 List<ServiceMetaInfo> serviceMetaInfoList) {
        if (serviceMetaInfoList.isEmpty()) {
            return null;
        }
        
        // æ„å»ºè™šæ‹ŸèŠ‚ç‚¹ç¯
        buildVirtualNodes(serviceMetaInfoList);
        
        // è·å–è°ƒç”¨è¯·æ±‚çš„hashå€¼
        int hash = getHash(requestParams);
        
        // é€‰æ‹©æœ€è¿‘çš„å¤§äºç­‰äºè¯¥hashå€¼çš„è™šæ‹ŸèŠ‚ç‚¹
        Map.Entry<Integer, ServiceMetaInfo> entry = virtualNodes.ceilingEntry(hash);
        if (entry == null) {
            entry = virtualNodes.firstEntry();
        }
        
        return entry.getValue();
    }
}
```

### 3. å®¹é”™æœºåˆ¶ (Fault Tolerance)

#### å®¹é”™ç­–ç•¥

**å¿«é€Ÿå¤±è´¥ (Fail Fast)**
```java
public class FailFastTolerantStrategy implements TolerantStrategy {
    @Override
    public RpcResponse doTolerant(Map<String, Object> context, Exception e) {
        throw new RuntimeException("æœåŠ¡è°ƒç”¨å¤±è´¥", e);
    }
}
```

**æ•…éšœè½¬ç§» (Fail Back)**
```java
public class FailBackTolerantStrategy implements TolerantStrategy {
    @Override
    public RpcResponse doTolerant(Map<String, Object> context, Exception e) {
        // è·å–å…¶ä»–å¯ç”¨æœåŠ¡èŠ‚ç‚¹
        List<ServiceMetaInfo> serviceList = getOtherServices(context);
        
        for (ServiceMetaInfo service : serviceList) {
            try {
                // å°è¯•è°ƒç”¨å¤‡ç”¨æœåŠ¡
                return callService(service, context);
            } catch (Exception ex) {
                log.warn("å¤‡ç”¨æœåŠ¡è°ƒç”¨å¤±è´¥: {}", ex.getMessage());
            }
        }
        
        // æ‰€æœ‰å¤‡ç”¨æœåŠ¡éƒ½å¤±è´¥ï¼Œè¿”å›é»˜è®¤å“åº”
        return createDefaultResponse();
    }
}
```

### 4. æœåŠ¡æ³¨å†Œä¸å‘ç°

#### æ³¨å†Œä¸­å¿ƒæ¥å£
```java
public interface Registry {
    void init(RegistryConfig registryConfig);
    void register(ServiceMetaInfo serviceMetaInfo) throws Exception;
    void unRegister(ServiceMetaInfo serviceMetaInfo) throws Exception;
    List<ServiceMetaInfo> serviceDiscovery(String serviceKey);
    void destroy();
    void heartBeat();
}
```

#### ETCDå®ç°
```java
public class EtcdRegistry implements Registry {
    private Client client;
    private KV kvClient;
    private static final String ETCD_ROOT_PATH = "/rpc/";
    
    @Override
    public void register(ServiceMetaInfo serviceMetaInfo) throws Exception {
        // åˆ›å»ºLeaseå’ŒKVå®¢æˆ·ç«¯
        Lease leaseClient = client.getLeaseClient();
        
        // åˆ›å»ºä¸€ä¸ª30ç§’çš„ç§Ÿçº¦
        long leaseId = leaseClient.grant(30).get().getID();
        
        // è®¾ç½®è¦å­˜å‚¨çš„é”®å€¼å¯¹
        String registerKey = ETCD_ROOT_PATH + serviceMetaInfo.getServiceNodeKey();
        ByteSequence key = ByteSequence.from(registerKey, StandardCharsets.UTF_8);
        ByteSequence value = ByteSequence.from(JSONUtil.toJsonStr(serviceMetaInfo), StandardCharsets.UTF_8);
        
        // å°†é”®å€¼å¯¹ä¸ç§Ÿçº¦å…³è”å¹¶å­˜å‚¨
        PutOption putOption = PutOption.builder().withLeaseId(leaseId).build();
        kvClient.put(key, value, putOption).get();
        
        // æ·»åŠ èŠ‚ç‚¹ä¿¡æ¯åˆ°æœ¬åœ°ç¼“å­˜
        localRegisterNodeKeySet.add(registerKey);
    }
}
```

## ğŸ”„ è¯·æ±‚å¤„ç†æµç¨‹

### 1. æœåŠ¡è°ƒç”¨æ—¶åºå›¾

```mermaid
sequenceDiagram
    participant C as Consumer
    participant P as Proxy
    participant LB as LoadBalancer
    participant R as Registry
    participant S as Serializer
    participant N as Network
    participant Provider as Provider
    
    C->>P: è°ƒç”¨æ–¹æ³•
    P->>R: æœåŠ¡å‘ç°
    R-->>P: è¿”å›æœåŠ¡åˆ—è¡¨
    P->>LB: è´Ÿè½½å‡è¡¡é€‰æ‹©
    LB-->>P: è¿”å›ç›®æ ‡æœåŠ¡
    P->>S: åºåˆ—åŒ–è¯·æ±‚
    S-->>P: è¿”å›å­—èŠ‚æ•°ç»„
    P->>N: å‘é€ç½‘ç»œè¯·æ±‚
    N->>Provider: HTTP/TCPè¯·æ±‚
    Provider->>Provider: å¤„ç†ä¸šåŠ¡é€»è¾‘
    Provider-->>N: è¿”å›å“åº”
    N-->>P: ç½‘ç»œå“åº”
    P->>S: ååºåˆ—åŒ–å“åº”
    S-->>P: è¿”å›å¯¹è±¡
    P-->>C: è¿”å›ç»“æœ
```

### 2. è¯¦ç»†å¤„ç†æ­¥éª¤

#### Consumerç«¯å¤„ç†æµç¨‹
1. **æ–¹æ³•æ‹¦æˆª**: åŠ¨æ€ä»£ç†æ‹¦æˆªæ¥å£æ–¹æ³•è°ƒç”¨
2. **æœåŠ¡å‘ç°**: ä»æ³¨å†Œä¸­å¿ƒè·å–å¯ç”¨æœåŠ¡åˆ—è¡¨
3. **è´Ÿè½½å‡è¡¡**: æ ¹æ®ç­–ç•¥é€‰æ‹©ç›®æ ‡æœåŠ¡èŠ‚ç‚¹
4. **è¯·æ±‚æ„å»º**: æ„é€ RpcRequestå¯¹è±¡
5. **åºåˆ—åŒ–**: å°†è¯·æ±‚å¯¹è±¡åºåˆ—åŒ–ä¸ºå­—èŠ‚æ•°ç»„
6. **ç½‘ç»œä¼ è¾“**: é€šè¿‡HTTP/TCPå‘é€è¯·æ±‚
7. **å“åº”å¤„ç†**: æ¥æ”¶å¹¶ååºåˆ—åŒ–å“åº”
8. **å®¹é”™å¤„ç†**: å¼‚å¸¸æƒ…å†µä¸‹çš„å®¹é”™ç­–ç•¥
9. **ç»“æœè¿”å›**: è¿”å›æœ€ç»ˆç»“æœç»™è°ƒç”¨æ–¹

#### Providerç«¯å¤„ç†æµç¨‹
1. **æœåŠ¡å¯åŠ¨**: å¯åŠ¨ç½‘ç»œæœåŠ¡å™¨ç›‘å¬ç«¯å£
2. **æœåŠ¡æ³¨å†Œ**: å‘æ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡ä¿¡æ¯
3. **è¯·æ±‚æ¥æ”¶**: æ¥æ”¶æ¥è‡ªConsumerçš„è¯·æ±‚
4. **ååºåˆ—åŒ–**: å°†å­—èŠ‚æ•°ç»„ååºåˆ—åŒ–ä¸ºè¯·æ±‚å¯¹è±¡
5. **æœåŠ¡æŸ¥æ‰¾**: æ ¹æ®æœåŠ¡åæŸ¥æ‰¾æœ¬åœ°æœåŠ¡å®ä¾‹
6. **æ–¹æ³•è°ƒç”¨**: é€šè¿‡åå°„è°ƒç”¨ç›®æ ‡æ–¹æ³•
7. **ç»“æœåºåˆ—åŒ–**: å°†è¿”å›ç»“æœåºåˆ—åŒ–
8. **å“åº”å‘é€**: å‘é€å“åº”ç»™Consumer
9. **å¿ƒè·³ç»´æŠ¤**: å®šæœŸå‘æ³¨å†Œä¸­å¿ƒå‘é€å¿ƒè·³

## ğŸ”Œ Spring Booté›†æˆåŸç†

### 1. è‡ªåŠ¨é…ç½®æœºåˆ¶

#### é…ç½®ç±»ç»“æ„
```java
@Configuration
@EnableConfigurationProperties(RpcConfigurationProperties.class)
@ConditionalOnProperty(prefix = "rpc", name = "enabled", havingValue = "true", matchIfMissing = true)
public class RpcAutoConfiguration {
    
    @Bean
    @ConditionalOnMissingBean
    public RpcConfig rpcConfig(RpcConfigurationProperties properties) {
        RpcConfig config = new RpcConfig();
        BeanUtils.copyProperties(properties, config);
        return config;
    }
    
    @Bean
    @ConditionalOnProperty(name = "rpc.needServer", havingValue = "true")
    public WebServer webServer() {
        return new VertxHttpServer();
    }
    
    @Bean
    public RpcServiceBeanPostProcessor rpcServiceBeanPostProcessor() {
        return new RpcServiceBeanPostProcessor();
    }
}
```

#### é…ç½®å±æ€§ç»‘å®š
```java
@ConfigurationProperties(prefix = "rpc")
@Data
public class RpcConfigurationProperties {
    private String name = "ming-rpc";
    private String version = "1.0";
    private String serverHost = "localhost";
    private Integer serverPort = 8080;
    private String serializer = "JDK";
    private String loadBalancer = "ROUND_ROBIN";
    private String retryStrategy = "NO";
    private String tolerantStrategy = "FAIL_FAST";
    private Boolean mock = false;
    
    @NestedConfigurationProperty
    private RegistryConfigProperties registryConfig = new RegistryConfigProperties();
}
```

### 2. æ³¨è§£å¤„ç†æœºåˆ¶

#### Beanåç½®å¤„ç†å™¨
```java
@Component
public class RpcServiceBeanPostProcessor implements BeanPostProcessor {
    
    @Override
    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {
        Class<?> beanClass = bean.getClass();
        
        // å¤„ç†@RpcServiceæ³¨è§£
        RpcService rpcService = beanClass.getAnnotation(RpcService.class);
        if (rpcService != null) {
            processRpcService(bean, beanClass, rpcService);
        }
        
        // å¤„ç†@RpcReferenceæ³¨è§£
        processRpcReference(bean, beanClass);
        
        return bean;
    }
    
    private void processRpcService(Object bean, Class<?> beanClass, RpcService rpcService) {
        // è·å–æœåŠ¡æ¥å£
        Class<?>[] interfaces = beanClass.getInterfaces();
        for (Class<?> interfaceClass : interfaces) {
            String serviceName = interfaceClass.getName();
            String serviceVersion = rpcService.serviceVersion();
            
            // æ³¨å†Œåˆ°æœ¬åœ°æ³¨å†Œè¡¨
            LocalRegistry.register(serviceName, beanClass);
            
            // æ³¨å†Œåˆ°è¿œç¨‹æ³¨å†Œä¸­å¿ƒ
            ServiceMetaInfo serviceMetaInfo = new ServiceMetaInfo();
            serviceMetaInfo.setServiceName(serviceName);
            serviceMetaInfo.setServiceVersion(serviceVersion);
            serviceMetaInfo.setServiceHost(rpcConfig.getServerHost());
            serviceMetaInfo.setServicePort(rpcConfig.getServerPort());
            
            try {
                registry.register(serviceMetaInfo);
            } catch (Exception e) {
                throw new RuntimeException("æœåŠ¡æ³¨å†Œå¤±è´¥", e);
            }
        }
    }
}
```

### 3. ä»£ç†å·¥å‚å®ç°

#### åŠ¨æ€ä»£ç†åˆ›å»º
```java
public class ServiceProxyFactory {
    
    public static <T> T getProxy(Class<T> serviceClass) {
        if (RpcApplication.getRpcConfig().isMock()) {
            return getMockProxy(serviceClass);
        }
        
        return (T) Proxy.newProxyInstance(
            serviceClass.getClassLoader(),
            new Class[]{serviceClass},
            new ServiceProxy()
        );
    }
    
    public static <T> T getMockProxy(Class<T> serviceClass) {
        return (T) Proxy.newProxyInstance(
            serviceClass.getClassLoader(),
            new Class[]{serviceClass},
            new MockServiceProxy()
        );
    }
}
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. ç½‘ç»œå±‚ä¼˜åŒ–
- **å¼‚æ­¥IO**: ä½¿ç”¨Vert.xå®ç°é«˜æ€§èƒ½å¼‚æ­¥ç½‘ç»œé€šä¿¡
- **è¿æ¥å¤ç”¨**: HTTP Keep-Aliveå‡å°‘è¿æ¥å¼€é”€
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡è¯·æ±‚å‡å°‘ç½‘ç»œå¾€è¿”

### 2. åºåˆ—åŒ–ä¼˜åŒ–
- **ç¼“å­˜æœºåˆ¶**: ç¼“å­˜åºåˆ—åŒ–å™¨å®ä¾‹é¿å…é‡å¤åˆ›å»º
- **å­—èŠ‚ç ä¼˜åŒ–**: ä½¿ç”¨é«˜æ€§èƒ½åºåˆ—åŒ–åº“
- **å‹ç¼©ä¼ è¾“**: æ”¯æŒGzipå‹ç¼©å‡å°‘ä¼ è¾“æ•°æ®é‡

### 3. å†…å­˜ä¼˜åŒ–
- **å¯¹è±¡æ± **: å¤ç”¨RpcRequest/RpcResponseå¯¹è±¡
- **å¼±å¼•ç”¨ç¼“å­˜**: ä½¿ç”¨WeakHashMapç¼“å­˜ä»£ç†å¯¹è±¡
- **åŠæ—¶é‡Šæ”¾**: è¯·æ±‚å¤„ç†å®ŒæˆååŠæ—¶é‡Šæ”¾èµ„æº

### 4. å¹¶å‘ä¼˜åŒ–
- **çº¿ç¨‹æ± **: ä½¿ç”¨çº¿ç¨‹æ± å¤„ç†è¯·æ±‚é¿å…é¢‘ç¹åˆ›å»ºçº¿ç¨‹
- **æ— é”ç®—æ³•**: è´Ÿè½½å‡è¡¡ä½¿ç”¨åŸå­æ“ä½œé¿å…é”ç«äº‰
- **å¼‚æ­¥å¤„ç†**: æ”¯æŒå¼‚æ­¥è°ƒç”¨æé«˜å¹¶å‘èƒ½åŠ›

## ğŸ” ç›‘æ§ä¸è¯Šæ–­

### 1. æ—¥å¿—ä½“ç³»
- **ç»“æ„åŒ–æ—¥å¿—**: ä½¿ç”¨JSONæ ¼å¼ä¾¿äºæ—¥å¿—åˆ†æ
- **é“¾è·¯è¿½è¸ª**: æ”¯æŒåˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
- **æ€§èƒ½æŒ‡æ ‡**: è®°å½•è¯·æ±‚è€—æ—¶ã€æˆåŠŸç‡ç­‰æŒ‡æ ‡

### 2. å¥åº·æ£€æŸ¥
- **æœåŠ¡å¥åº·**: å®šæœŸæ£€æŸ¥æœåŠ¡å¯ç”¨æ€§
- **æ³¨å†Œä¸­å¿ƒå¥åº·**: ç›‘æ§æ³¨å†Œä¸­å¿ƒè¿æ¥çŠ¶æ€
- **èµ„æºç›‘æ§**: ç›‘æ§CPUã€å†…å­˜ã€ç½‘ç»œä½¿ç”¨æƒ…å†µ

### 3. æ•…éšœè¯Šæ–­
- **å¼‚å¸¸å †æ ˆ**: å®Œæ•´çš„å¼‚å¸¸ä¿¡æ¯è®°å½•
- **è¯·æ±‚é‡æ”¾**: æ”¯æŒè¯·æ±‚é‡æ”¾ä¾¿äºé—®é¢˜å¤ç°
- **æ€§èƒ½åˆ†æ**: æä¾›æ€§èƒ½åˆ†æå·¥å…·

è¿™ä¸ªæŠ€æœ¯æ¶æ„æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†Ming RPC Frameworkçš„æ ¸å¿ƒæŠ€æœ¯å®ç°ï¼Œä¸ºå¼€å‘è€…æä¾›äº†æ·±å…¥ç†è§£æ¡†æ¶åŸç†çš„å‚è€ƒèµ„æ–™ã€‚
